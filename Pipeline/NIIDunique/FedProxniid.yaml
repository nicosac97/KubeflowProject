name: Download Data Function
description: Download data from torchvision datasets and splits it IID to the specified number of clients
inputs:
- {name: Nsampletrain , type: Integer ,default: 400, description: ' Number of samples to be downloaded for trainining'}
- {name: Nsampletest , type: Integer , default: 200 , description: ' Number of samples to be downloaded for testing'}
- {name: Nclients, type: Integer ,default: 3 , description: ' Number of clients to be used for FedAVG '}
- {name: Batchsize , type: Integer, default : 25 , description: ' Number of units composing the batch for trainining'}
- {name: N_iter, type: Integer, default: 50, description: 'number of training rounds to be taken '}
- {name: Epochs, type: Integer, default: 2 ,  description: 'Number of epochs to take for each round of training '}
- {name: Mu, type: Float, default: 0 ,  description: 'Regularization term of FedProx if 0 is equal to FedAVG '}
- {name: Lr, type: Float , default: 0.1 ,  description: 'Learning rate to be used by the local optimizer for SGD '}

implementation:
  container:
    image: nicolosacconehub/niidexecution:first
    command: [
      python3,
      /pipeline/FedProxniid.py,
      --nsampletrain ,
      {inputValue: Nsampletrain},
      --nsampletest ,
      {inputValue: Nsampletest },
      --nclients ,
      { inputValue: Nclients  },
      --batch_size ,
      { inputValue: Batchsize },
      --n_iter ,
      {inputValue: N_iter },
      --epochs ,
      {inputValue: Epochs },
      --mu ,
      {inputValue: Mu },
      --lr ,
      {inputValue: Lr },

    ]


